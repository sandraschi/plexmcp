# Plex MCP Server Configuration
# Austrian dev efficiency with comprehensive settings

server:
  name: "Plex Media Server MCP"
  description: "FastMCP 2.0 server for comprehensive Plex media management"
  version: "1.0.0"
  
  # MCP Server settings
  mcp:
    instructions: |
      Provides comprehensive Plex Media Server management through natural language commands.
      Supports library management, media search, playback control, and server monitoring.
      
      Key capabilities:
      - Library scanning and metadata refresh
      - Media search across all libraries
      - Active session monitoring and control
      - User and sharing management
      - Server statistics and health monitoring
      
      Austrian efficiency: Working solutions in hours, not days.
    
    dependencies:
      - fastmcp>=2.10.0
      - requests>=2.31.0
      - python-dotenv>=1.0.0

# Plex configuration
plex:
  # Plex server URL (including port)
  server_url: "http://localhost:32400"
  
  # Authentication token (required)
  token: ""  # Set in .env file
  
  # Connection settings
  connection:
    timeout: 30
    verify_ssl: true
    retry_attempts: 3
    retry_delay: 2
    
  # Default library settings
  defaults:
    scan_timeout: 300
    refresh_timeout: 600
    search_limit: 50
    
# Media management
media:
  # Supported media types
  supported_types:
    - movie
    - show
    - season
    - episode
    - artist
    - album
    - track
    
  # Search configuration
  search:
    default_limit: 20
    max_limit: 100
    include_collections: true
    include_playlists: true
    
  # Metadata handling
  metadata:
    auto_refresh: true
    include_thumbnails: false
    max_description_length: 500

# Session management
sessions:
  # Session monitoring
  monitoring:
    poll_interval: 10
    include_inactive: false
    track_bandwidth: true
    
  # Playback control
  playback:
    supported_actions:
      - play
      - pause
      - stop
      - skipNext
      - skipPrevious
      - stepForward
      - stepBack
    default_step_seconds: 30

# Library management
libraries:
  # Auto-scan configuration
  auto_scan:
    enabled: true
    schedule: "0 2 * * *"  # Daily at 2 AM
    include_subdirectories: true
    
  # Library types
  supported_types:
    - movie
    - show
    - music
    - photo
    
  # Optimization
  optimization:
    auto_optimize: false
    quality_profile: "Original"
    
# User management
users:
  # User access
  access_control:
    admin_required_operations:
      - library_scan
      - server_restart
      - user_management
    
  # Sharing settings
  sharing:
    allow_sync: true
    allow_download: true
    default_permissions: "view"

# Logging configuration
logging:
  level: "INFO"
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  
  # Log files
  files:
    main: "logs/plexmcp.log"
    errors: "logs/plexmcp_errors.log"
    
  # Rotation
  rotation:
    max_size_mb: 10
    backup_count: 5

# Performance and optimization
performance:
  # Parallel operations
  max_concurrent_requests: 5
  
  # Caching
  cache:
    library_info_ttl: 300  # seconds
    media_info_ttl: 600    # seconds
    session_info_ttl: 10   # seconds
    
  # Resource monitoring
  monitoring:
    check_server_health: true
    alert_on_high_cpu: true
    cpu_threshold_percent: 80

# Security settings
security:
  # API access
  api_access:
    require_token: true
    validate_ssl: true
    
  # Rate limiting
  rate_limiting:
    enabled: true
    requests_per_minute: 60
    
  # Content filtering
  content_filtering:
    enable_parental_controls: true
    default_rating: "PG-13"

# Development and testing
development:
  # Debug mode
  debug: false
  
  # Mock mode for testing without Plex server
  mock_mode: false
  
  # Test data
  test_data:
    use_sample_library: false
    sample_media_count: 10

# Austrian efficiency settings
austrian_dev:
  # Rapid operations
  rapid_operations:
    parallel_library_scans: true
    batch_metadata_updates: true
    
  # Error handling
  error_handling:
    provide_solution_suggestions: true
    include_plex_documentation: true
    austrian_directness: true

# Integration settings
integration:
  # External services
  external_services:
    tmdb_api: false
    tvdb_api: false
    
  # Notifications
  notifications:
    discord_webhook: ""
    slack_webhook: ""
    
  # Monitoring
  monitoring:
    prometheus_metrics: true
    health_check_endpoint: true
